---
siteconf_locations:
  - '{{ playbook_dir }}/templates/{{ apache_site.id }}/apache/{{ apache_site.id }}.conf.j2'
  - '{{ playbook_dir }}/files/{{ apache_site.id }}/apache/{{ apache_site.id }}.conf'
  - 'templates/{{ apache_type }}/site.conf.j2'
  - templates/site.conf.j2

include_locations:
  - '{{ playbook_dir }}/templates/{{ apache_site.id }}/apache/{{ item }}.j2'
  - '{{ playbook_dir }}/files/{{ apache_site.id }}/apache/{{ item }}'
  - 'templates/apache/{{ apache_type }}/{{ item }}.j2'
  - 'templates/apache/{{ item }}.j2'
  - '{{ playbook_dir }}/files/apache/{{ item }}'

# site par defaut
default_site:
  id: default
  name: ''
  apache_includes: []
  rootdir: '{{ apache_rootbase }}/{{ onesite.id }}'
  rootsrc: ''
  gitroot: ''
  group: '{{ www_group }}'
  user: '{{ www_user }}'
  grwfiles: []
  grwdirs: []

apache_site: '{{ default_site | combine(onesite) }}'
